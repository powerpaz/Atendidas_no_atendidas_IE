<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Visualizador de Instituciones Educativas No atendidas</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" crossorigin="anonymous"/>

  <!-- TipografÃ­a -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- CSS propio -->
  <link rel="stylesheet" href="styles.css"/>

  <!-- LibrerÃ­as -->
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin="anonymous"></script>
  <script defer src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js" crossorigin="anonymous"></script>
  <script defer src="https://unpkg.com/topojson-client/dist/topojson-client.min.js" crossorigin="anonymous"></script>
  <script defer src="https://unpkg.com/proj4@2.9.2/dist/proj4.js" crossorigin="anonymous"></script>

  <!-- App -->
  <script defer src="config.js"></script>
  <script defer src="app.js"></script>
  <meta name="theme-color" content="#0b1b2a">
</head>
<body>

  <!-- Encabezado institucional -->
  <header class="brand-bar">
    <div class="brand-left">
      <img src="logo.png" alt="Ministerio de EducaciÃ³n, Deporte y Cultura">
    </div>

    <div class="brand-center">
      <h1 class="brand-title">Geovisor de Instituciones Educativas No Atendidas â€“ MINEDEC</h1>
      <div class="brand-subtitle"></div>
    </div>

    <div class="brand-right">
      <span class="brand-country"></span>
    </div>
  </header>

  <div class="layout">
    <aside class="sidebar">
      <div class="panel">
        <div class="panel-header">
          <h2 class="panel-title">
            <span class="panel-icon">â˜°</span>
            Capas cartogrÃ¡ficas
          </h2>
          <span class="status" id="status">Loading...</span>
        </div>

        <div class="panel-content">
          <div class="filters">
            <div class="filter-group">
              <label class="group-title"></label>
              <div class="toggle-row">
                <input type="checkbox" id="tgProv" checked>
                <label for="tgProv">Provincias</label>
              </div>
              <div class="toggle-row">
                <input type="checkbox" id="tgNbi" checked>
                <label for="tgNbi">Cantones con NBI &gt; 50%</label>
              </div>
            </div>

            <div class="filter-group">
              <label class="group-title">Puntos</label>
              
              <div class="toggle-row">
                <input type="checkbox" id="tgIENo">
                <label for="tgIENo">IE Fiscales No atendidas</label>
              </div>
              
<div class="toggle-row">
                <input type="checkbox" id="tgViol">
                <label for="tgViol">Total Casos de Violencia (burbujas)</label>
              </div>
              <div id="legendViol" class="bubble-legend">
                <div class="bl-sub">Total_Caso</div>
                <div class="bl-row">
                  <span class="bl-bubble" style="width:10px;height:10px;background:rgba(56,189,248,.85);border-color:#c4c8c7;"></span>
                  <span class="bl-label">1 - 3</span>
                </div>
                <div class="bl-row">
                  <span class="bl-bubble" style="width:16px;height:16px;background:rgba(14,165,233,.85);border-color:#c4c8c7;"></span>
                  <span class="bl-label">4 - 8</span>
                </div>
                <div class="bl-row">
                  <span class="bl-bubble" style="width:24px;height:24px;background:rgba(2,132,199,.85);border-color:#c4c8c7;"></span>
                  <span class="bl-label">9 - 23</span>
                </div>
              </div>

              <div class="toggle-row">
                <input type="checkbox" id="tgOtras">
                <label for="tgOtras">Total Estudiantes Otras Nacionalidades (burbujas)</label>
              </div>
              <div id="legendOtras" class="bubble-legend">
                <div class="bl-sub">Total_estu</div>
                <div class="bl-row">
                  <span class="bl-bubble" style="width:10px;height:10px;background:rgba(248,113,113,.85);"></span>
                  <span class="bl-label">1 - 50</span>
                </div>
                <div class="bl-row">
                  <span class="bl-bubble" style="width:18px;height:18px;background:rgba(239,68,68,.85);"></span>
                  <span class="bl-label">50 - 100</span>
                </div>
                <div class="bl-row">
                  <span class="bl-bubble" style="width:34px;height:34px;background:rgba(185,28,28,.85);"></span>
                  <span class="bl-label">&gt; 100</span>
                </div>
              </div><div class="toggle-row services-group">
                <div class="services-title">Servicios bÃ¡sicos</div>
              </div>
              <div class="services-subtoggles">
                <div class="toggle-row">
                  <input type="checkbox" id="tgServEYes">
                  <label for="tgServEYes">Electricidad: SÃ­</label>
                </div>
                <div class="toggle-row">
                  <input type="checkbox" id="tgServENo">
                  <label for="tgServENo">Electricidad: No <span class="svc-no-badge" title="Sin electricidad">ðŸš«ðŸ’¡</span></label>
                </div>
                <div class="toggle-row">
                  <input type="checkbox" id="tgServAYes">
                  <label for="tgServAYes">Agua: SÃ­</label>
                </div>
                <div class="toggle-row">
                  <input type="checkbox" id="tgServANo">
                  <label for="tgServANo">Agua: No <span class="svc-no-badge" title="Sin agua">ðŸš«ðŸ’§</span></label>
                </div>
              </div>
            </div>

            <div class="data-source">
              <span class="source-label">Fuente:  </span> Capas por URL (Release) o locales
            </div>
          </div>
        </div>
      </div>
    </aside>

    <main class="main-content">
      <header class="map-header">
        <div class="header-content">
          <h1 class="map-title">Mapa de priorizaciÃ³n territorial para la toma de decisiones</h1>
          <p class="map-subtitle">Utilice los controles para encender o apagar las capas del mapa.
Haciendo clic sobre los elementos podrÃ¡ visualizar el contenido informativo correspondiente</p>
        </div>
      </header>
      <div id="map" class="map-container">DirecciÃ³n de AnÃ¡lisis y Estudios de InformaciÃ³n</div>
    </main>
  </div>

  <footer class="footer">
    <span>Â© DAEI â€“ MINEDEC | Visor web | Realizado por la DPI_2026</span>
  </footer>

</body>
</html>
